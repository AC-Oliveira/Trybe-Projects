{"ast":null,"code":"var _jsxFileName = \"/home/allan/Projects/Trybe-Projects/sd-013-b-project-recipes-app/src/Pages/DrinkDetails.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport CustomCarousel from './CustomCarousel';\nimport FavoriteButton from './Utils/FavoriteButton';\n\nconst copy = require('clipboard-copy');\n\nexport default function DrinkDetalis() {\n  const [drinkDetails, setDrinkDetails] = useState({});\n  const [copyLink, setCopyLink] = useState(false);\n  const [meals, setMeals] = useState([]);\n  const SIX = 6;\n  const locationToClipboard = useLocation().pathname;\n\n  const getLocation = () => {\n    const clipboardLocation = `http://localhost:3000${locationToClipboard}`;\n    return clipboardLocation;\n  };\n\n  const recipesDone = JSON.parse(localStorage.getItem('doneRecipes'));\n  const test = recipesDone || [];\n  let recipeInProgress = JSON.parse(localStorage.getItem('inProgressRecipes'));\n  if (recipeInProgress) recipeInProgress = recipeInProgress.cocktails;\n  if (!recipeInProgress) recipeInProgress = {};\n  const firstCarousel = meals.length ? [meals[0], meals[2], meals[4]] : [];\n  const secondCarousel = meals.length ? [meals[1], meals[3], meals[5]] : [];\n  const id = useLocation().pathname.replace('/bebidas/', '');\n  const test2 = test.some(recipe => recipe.id === id); // ref: Lucas Caribé\n\n  const youtubeSource = drinkDetails.strYoutube ? drinkDetails.strYoutube.replace(/watch\\?v=/, 'embed/') : '';\n  const str1 = 'accelerometer; autoplay; clipboard-write;';\n  const str2 = 'encrypted-media; gyroscope; picture-in-picture';\n  const youtubeConf = str1 + str2;\n  const TWENTY = 20;\n  const ingredientList = [];\n\n  const fetchDrinkIdAPi = async () => {\n    const response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`).then(res => res.json());\n    setDrinkDetails(response.drinks[0]);\n  };\n\n  async function fetchMealAPI() {\n    const APIMeals = 'https://www.themealdb.com/api/json/v1/1/search.php?s=';\n    const response = await fetch(APIMeals).then(resp => resp.json());\n    setMeals(response.meals.slice(0, SIX));\n  }\n\n  useEffect(() => {\n    fetchMealAPI();\n    fetchDrinkIdAPi();\n  }, []);\n\n  for (let index = 1; index <= TWENTY; index += 1) {\n    if (drinkDetails[`strIngredient${index}`]) {\n      ingredientList.push({\n        [`ingredients${index}`]: drinkDetails[`strIngredient${index}`],\n        [`measure${index}`]: drinkDetails[`strMeasure${index}`]\n      });\n    }\n  }\n\n  const hiddenButton = /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"data-testid\": \"start-recipe-btn\",\n    className: \"startRecipeButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, recipeInProgress[id] ? 'Continuar Receita' : 'Iniciar Receita');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n    src: drinkDetails.strDrinkThumb,\n    alt: \"img-Details\",\n    \"data-testid\": \"recipe-photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, drinkDetails.strDrink), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, drinkDetails.strAlcoholic), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setCopyLink(true);\n      copy(getLocation());\n    },\n    type: \"button\",\n    \"data-testid\": \"share-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"Compartilhar\"), /*#__PURE__*/React.createElement(FavoriteButton, {\n    props: {\n      drinkDetails\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }), copyLink && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 20\n    }\n  }, \"Link copiado!\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"recipe-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, drinkDetails.strCategory), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, ingredientList.map((ingredient, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    \"data-testid\": `${index}-ingredient-name-and-measure`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, `${ingredient[`ingredients${index + 1}`]} \n              - ${ingredient[`measure${index + 1}`]}`))), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"Instru\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"p\", {\n    \"data-testid\": \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, drinkDetails.strInstructions), /*#__PURE__*/React.createElement(\"iframe\", {\n    \"data-testid\": \"video\",\n    width: \"560\",\n    height: \"315\",\n    src: youtubeSource,\n    title: \"YouTube video player\",\n    frameBorder: \"0\",\n    allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n    allowFullScreen: youtubeConf,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CustomCarousel, {\n    props: {\n      firstCarousel,\n      secondCarousel\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: `/bebidas/${id}/in-progress`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, !test2 ? hiddenButton : null));\n}","map":{"version":3,"sources":["/home/allan/Projects/Trybe-Projects/sd-013-b-project-recipes-app/src/Pages/DrinkDetails.jsx"],"names":["React","useState","useEffect","useLocation","Link","CustomCarousel","FavoriteButton","copy","require","DrinkDetalis","drinkDetails","setDrinkDetails","copyLink","setCopyLink","meals","setMeals","SIX","locationToClipboard","pathname","getLocation","clipboardLocation","recipesDone","JSON","parse","localStorage","getItem","test","recipeInProgress","cocktails","firstCarousel","length","secondCarousel","id","replace","test2","some","recipe","youtubeSource","strYoutube","str1","str2","youtubeConf","TWENTY","ingredientList","fetchDrinkIdAPi","response","fetch","then","res","json","drinks","fetchMealAPI","APIMeals","resp","slice","index","push","hiddenButton","strDrinkThumb","strDrink","strAlcoholic","strCategory","map","ingredient","strInstructions"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport CustomCarousel from './CustomCarousel';\nimport FavoriteButton from './Utils/FavoriteButton';\n\nconst copy = require('clipboard-copy');\n\nexport default function DrinkDetalis() {\n  const [drinkDetails, setDrinkDetails] = useState({});\n  const [copyLink, setCopyLink] = useState(false);\n  const [meals, setMeals] = useState([]);\n  const SIX = 6;\n\n  const locationToClipboard = useLocation().pathname;\n  const getLocation = () => {\n    const clipboardLocation = `http://localhost:3000${locationToClipboard}`;\n    return clipboardLocation;\n  };\n\n  const recipesDone = JSON.parse(localStorage.getItem('doneRecipes'));\n  const test = recipesDone || [];\n  let recipeInProgress = JSON\n    .parse(localStorage.getItem('inProgressRecipes'));\n  if (recipeInProgress) recipeInProgress = recipeInProgress.cocktails;\n  if (!recipeInProgress) recipeInProgress = {};\n\n  const firstCarousel = meals.length ? [meals[0], meals[2], meals[4]] : [];\n  const secondCarousel = meals.length ? [meals[1], meals[3], meals[5]] : [];\n\n  const id = useLocation().pathname.replace('/bebidas/', '');\n  const test2 = test.some((recipe) => recipe.id === id);\n\n  // ref: Lucas Caribé\n  const youtubeSource = drinkDetails.strYoutube ? drinkDetails\n    .strYoutube.replace(/watch\\?v=/, 'embed/') : '';\n  const str1 = 'accelerometer; autoplay; clipboard-write;';\n  const str2 = 'encrypted-media; gyroscope; picture-in-picture';\n  const youtubeConf = str1 + str2;\n  const TWENTY = 20;\n\n  const ingredientList = [];\n  const fetchDrinkIdAPi = async () => {\n    const response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`).then((res) => res.json());\n    setDrinkDetails(response.drinks[0]);\n  };\n\n  async function fetchMealAPI() {\n    const APIMeals = 'https://www.themealdb.com/api/json/v1/1/search.php?s=';\n    const response = await fetch(APIMeals).then((resp) => resp.json());\n    setMeals(response.meals.slice(0, SIX));\n  }\n\n  useEffect(() => {\n    fetchMealAPI();\n    fetchDrinkIdAPi();\n  }, []);\n\n  for (let index = 1; index <= TWENTY; index += 1) {\n    if (drinkDetails[`strIngredient${index}`]) {\n      ingredientList.push({\n        [`ingredients${index}`]: drinkDetails[`strIngredient${index}`],\n        [`measure${index}`]: drinkDetails[`strMeasure${index}`],\n      });\n    }\n  }\n\n  const hiddenButton = (\n    <button type=\"button\" data-testid=\"start-recipe-btn\" className=\"startRecipeButton\">\n      {recipeInProgress[id] ? 'Continuar Receita' : 'Iniciar Receita'}\n    </button>);\n\n  return (\n    <>\n      <img\n        src={ drinkDetails.strDrinkThumb }\n        alt=\"img-Details\"\n        data-testid=\"recipe-photo\"\n      />\n      <p data-testid=\"recipe-title\">{ drinkDetails.strDrink }</p>\n      <p data-testid=\"recipe-category\">{ drinkDetails.strAlcoholic }</p>\n      <button\n        onClick={ () => {\n          setCopyLink(true);\n          copy(getLocation());\n        } }\n        type=\"button\"\n        data-testid=\"share-btn\"\n      >\n        Compartilhar\n      </button>\n      <FavoriteButton props={ { drinkDetails } } />\n      {copyLink && <p>Link copiado!</p>}\n      <p data-testid=\"recipe-category\">{drinkDetails.strCategory}</p>\n      <ul>\n        { ingredientList.map((ingredient, index) => (\n          <li key={ index } data-testid={ `${index}-ingredient-name-and-measure` }>\n            {\n              `${ingredient[`ingredients${index + 1}`]} \n              - ${ingredient[`measure${index + 1}`]}`\n            }\n          </li>))}\n      </ul>\n      <h3>Instruções</h3>\n      <p data-testid=\"instructions\">{drinkDetails.strInstructions}</p>\n      <iframe\n        data-testid=\"video\"\n        width=\"560\"\n        height=\"315\"\n        src={ youtubeSource }\n        title=\"YouTube video player\"\n        frameBorder=\"0\"\n        allow=\"accelerometer;\n         autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        allowFullScreen={ youtubeConf }\n      />\n      <CustomCarousel props={ { firstCarousel, secondCarousel } } />\n      <Link to={ `/bebidas/${id}/in-progress` }>\n        {!test2 ? hiddenButton : null}\n      </Link>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}