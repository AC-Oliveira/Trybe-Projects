{"ast":null,"code":"var _jsxFileName = \"/home/allan/Projects/Trybe-Projects/sd-013-b-project-trivia-react-redux/src/Pages/Login.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactAudioPlayer from 'react-audio-player';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport playAction, { getTokenThunk } from '../Redux/Action';\nimport './login.css';\nimport logo from '../assets/logo.png';\nimport silvio from '../assets/silvio.png';\nimport ranking from '../assets/rank.png';\nimport settings from '../assets/settings.png';\nimport about from '../assets/about.png';\nimport trilha from '../assets/trilha.mp3'; // import { getToken } from '../Services/fetchAPI';\n// import '../App.css';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playerName: '',\n      playerEmail: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.validateButton = this.validateButton.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.returnButton = this.returnButton.bind(this);\n    this.returnLoginComponents = this.returnLoginComponents.bind(this);\n    this.returnLoginComponents = this.returnLoginComponents.bind(this);\n    this.returnFooterComponentsc = this.returnFooterComponents.bind(this);\n    this.soundtrack = this.soundtrack.bind(this);\n  }\n\n  componentDidMount() {\n    this.soundtrack();\n  }\n\n  onClick() {\n    const _this$state = this.state,\n          gravatarEmail = _this$state.playerEmail,\n          name = _this$state.playerName;\n    const _this$props = this.props,\n          updateNameEmail = _this$props.updateNameEmail,\n          sendTokenToState = _this$props.sendTokenToState;\n    sendTokenToState();\n    updateNameEmail({\n      gravatarEmail,\n      name\n    });\n    const rank = localStorage.getItem('ranking');\n    if (!rank) localStorage.setItem('ranking', '[]');\n  }\n\n  handleChange({\n    target\n  }) {\n    this.setState({\n      [target.name]: target.value\n    });\n    this.validateButton();\n  }\n\n  validateButton() {\n    const _this$state2 = this.state,\n          playerName = _this$state2.playerName,\n          playerEmail = _this$state2.playerEmail;\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/i;\n\n    if (emailRegex.test(playerEmail) && playerName) {\n      return false;\n    }\n\n    return true;\n  }\n\n  returnSocials() {\n    return React.createElement(\"div\", {\n      className: \"social-login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"google\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://web.mobills.com.br/static/media/google.091331fc.svg\",\n      alt: \"google logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Google\")), React.createElement(\"div\", {\n      className: \"facebook\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://web.mobills.com.br/static/media/facebook.3dfe870e.svg\",\n      alt: \"facebook logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Facebook\")), React.createElement(\"div\", {\n      className: \"apple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://web.mobills.com.br/static/media/apple.c8b37e55.svg\",\n      alt: \"apple logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Apple\")));\n  }\n\n  returnButton() {\n    const className = this.state.className;\n    return React.createElement(Link, {\n      to: \"/game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"btn-play\",\n      onClick: this.onClick,\n      className: className,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Jogar\"));\n  }\n\n  returnLoginComponents() {\n    const playButton = this.validateButton();\n    const _this$state3 = this.state,\n          playerName = _this$state3.playerName,\n          playerEmail = _this$state3.playerEmail;\n    return React.createElement(\"div\", {\n      className: \"main-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"left-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"logo\",\n      src: logo,\n      alt: \"Logo Show do Milh\\xE3o\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      className: \"silvio\",\n      src: silvio,\n      alt: \"Silvio Santos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"login-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, this.returnSocials(), React.createElement(\"input\", {\n      type: \"text\",\n      \"data-testid\": \"input-player-name\",\n      onChange: this.handleChange,\n      name: \"playerName\",\n      value: playerName,\n      placeholder: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"email\",\n      \"data-testid\": \"input-gravatar-email\",\n      onChange: this.handleChange,\n      name: \"playerEmail\",\n      value: playerEmail,\n      placeholder: \"E-mail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/game\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"btn-play\",\n      disabled: playButton,\n      onClick: this.onClick,\n      className: playButton ? 'disabled' : 'enabled',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Jogar\"))));\n  }\n\n  returnFooterComponents() {\n    const history = this.props.history;\n    return React.createElement(\"footer\", {\n      className: \"footer-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"ranking\",\n      type: \"button\",\n      onClick: () => {\n        history.push('/ranking');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: ranking,\n      alt: \"rank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"settings\",\n      type: \"button\",\n      onClick: () => {\n        history.push('/settings');\n      },\n      \"data-testid\": \"btn-settings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: settings,\n      alt: \"settings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"about\",\n      type: \"button\",\n      onClick: () => {\n        history.push('/about');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: about,\n      alt: \"about\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })));\n  }\n\n  soundtrack() {\n    return React.createElement(ReactAudioPlayer, {\n      src: trilha,\n      autoPlay: true,\n      controls: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, this.returnLoginComponents(), this.returnFooterComponents());\n  }\n\n}\n\nLogin.propTypes = {\n  history: PropTypes.objectOf(PropTypes.func).isRequired,\n  sendTokenToState: PropTypes.func.isRequired,\n  updateNameEmail: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = dispatch => ({\n  updateNameEmail: payload => dispatch(playAction(payload)),\n  sendTokenToState: () => dispatch(getTokenThunk())\n});\n\nexport default connect(null, mapDispatchToProps)(Login);\n/*\nLink da biblioteca React Audio Player:\nhttps://www.npmjs.com/package/react-audio-player\n*/","map":{"version":3,"sources":["/home/allan/Projects/Trybe-Projects/sd-013-b-project-trivia-react-redux/src/Pages/Login.js"],"names":["React","Component","Link","ReactAudioPlayer","connect","PropTypes","playAction","getTokenThunk","logo","silvio","ranking","settings","about","trilha","Login","constructor","props","state","playerName","playerEmail","handleChange","bind","validateButton","onClick","returnButton","returnLoginComponents","returnFooterComponentsc","returnFooterComponents","soundtrack","componentDidMount","gravatarEmail","name","updateNameEmail","sendTokenToState","rank","localStorage","getItem","setItem","target","setState","value","emailRegex","test","returnSocials","className","playButton","history","push","render","propTypes","objectOf","func","isRequired","mapDispatchToProps","dispatch","payload"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReactAudioPlayer from 'react-audio-player';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport playAction, { getTokenThunk } from '../Redux/Action';\n\nimport './login.css';\nimport logo from '../assets/logo.png';\nimport silvio from '../assets/silvio.png';\nimport ranking from '../assets/rank.png';\nimport settings from '../assets/settings.png';\nimport about from '../assets/about.png';\nimport trilha from '../assets/trilha.mp3';\n// import { getToken } from '../Services/fetchAPI';\n// import '../App.css';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      playerName: '',\n      playerEmail: '',\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.validateButton = this.validateButton.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.returnButton = this.returnButton.bind(this);\n    this.returnLoginComponents = this.returnLoginComponents.bind(this);\n    this.returnLoginComponents = this.returnLoginComponents.bind(this);\n    this.returnFooterComponentsc = this.returnFooterComponents.bind(this);\n    this.soundtrack = this.soundtrack.bind(this);\n  }\n\n  componentDidMount() {\n    this.soundtrack();\n  }\n\n  onClick() {\n    const { playerEmail: gravatarEmail, playerName: name } = this.state;\n    const { updateNameEmail, sendTokenToState } = this.props;\n    sendTokenToState();\n    updateNameEmail({ gravatarEmail, name });\n    const rank = localStorage.getItem('ranking');\n    if (!rank) localStorage.setItem('ranking', '[]');\n  }\n\n  handleChange({ target }) {\n    this.setState({\n      [target.name]: target.value,\n    });\n    this.validateButton();\n  }\n\n  validateButton() {\n    const { playerName, playerEmail } = this.state;\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/i;\n    if (emailRegex.test(playerEmail) && playerName) {\n      return false;\n    }\n    return true;\n  }\n\n  returnSocials() {\n    return (\n      <div className=\"social-login\">\n        <div className=\"google\">\n          <img src=\"https://web.mobills.com.br/static/media/google.091331fc.svg\" alt=\"google logo\" />\n          <span>Google</span>\n        </div>\n        <div className=\"facebook\">\n          <img src=\"https://web.mobills.com.br/static/media/facebook.3dfe870e.svg\" alt=\"facebook logo\" />\n          <span>Facebook</span>\n        </div>\n        <div className=\"apple\">\n          <img src=\"https://web.mobills.com.br/static/media/apple.c8b37e55.svg\" alt=\"apple logo\" />\n          <span>Apple</span>\n        </div>\n      </div>\n    );\n  }\n\n  returnButton() {\n    const { className } = this.state;\n    return (\n      <Link to=\"/game\">\n        <button\n          type=\"button\"\n          data-testid=\"btn-play\"\n          onClick={ this.onClick }\n          className={ className }\n        >\n          Jogar\n        </button>\n      </Link>\n    );\n  }\n\n  returnLoginComponents() {\n    const playButton = this.validateButton();\n    const { playerName, playerEmail } = this.state;\n    return (\n      <div className=\"main-container\">\n        <div className=\"left-container\">\n          <img className=\"logo\" src={ logo } alt=\"Logo Show do Milhão\" />\n          <img className=\"silvio\" src={ silvio } alt=\"Silvio Santos\" />\n        </div>\n        <div className=\"login-container\">\n          { this.returnSocials() }\n          <input\n            type=\"text\"\n            data-testid=\"input-player-name\"\n            onChange={ this.handleChange }\n            name=\"playerName\"\n            value={ playerName }\n            placeholder=\"Name\"\n          />\n          <input\n            type=\"email\"\n            data-testid=\"input-gravatar-email\"\n            onChange={ this.handleChange }\n            name=\"playerEmail\"\n            value={ playerEmail }\n            placeholder=\"E-mail\"\n          />\n          <Link to=\"/game\">\n            <button\n              type=\"button\"\n              data-testid=\"btn-play\"\n              disabled={ playButton }\n              onClick={ this.onClick }\n              className={ playButton ? 'disabled' : 'enabled' }\n            >\n              Jogar\n            </button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  returnFooterComponents() {\n    const { history } = this.props;\n    return (\n      <footer className=\"footer-container\">\n        <button\n          className=\"ranking\"\n          type=\"button\"\n          onClick={ () => { history.push('/ranking'); } }\n        >\n          <img src={ ranking } alt=\"rank\" />\n        </button>\n\n        <button\n          className=\"settings\"\n          type=\"button\"\n          onClick={ () => { history.push('/settings'); } }\n          data-testid=\"btn-settings\"\n        >\n          <img src={ settings } alt=\"settings\" />\n        </button>\n\n        <button\n          className=\"about\"\n          type=\"button\"\n          onClick={ () => { history.push('/about'); } }\n        >\n          <img src={ about } alt=\"about\" />\n        </button>\n      </footer>\n    );\n  }\n\n  soundtrack() {\n    return (\n      <ReactAudioPlayer\n        src={ trilha }\n        autoPlay\n        controls\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper\">\n        { this.returnLoginComponents() }\n        { this.returnFooterComponents() }\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.objectOf(PropTypes.func).isRequired,\n  sendTokenToState: PropTypes.func.isRequired,\n  updateNameEmail: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateNameEmail: (payload) => dispatch(playAction(payload)),\n  sendTokenToState: () => dispatch(getTokenThunk()),\n});\n\nexport default connect(null, mapDispatchToProps)(Login);\n\n/*\nLink da biblioteca React Audio Player:\nhttps://www.npmjs.com/package/react-audio-player\n*/\n"]},"metadata":{},"sourceType":"module"}