(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),c=n.n(l),u=(n(15),n(4)),o=n.n(u),i=n(1),m=n(7),s=n(8),f=Object(a.createContext)(),d="https://swapi-trybe.herokuapp.com/api/planets/",p={filter:{filterByName:"",filterByNumericValues:[]},planetsList:[],order:{column:"name",sort:"ASC"}};var E=function(e){var t=e.children,n=Object(a.useState)(p),l=Object(s.a)(n,2),c=l[0],u=l[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d).then((function(e){return e.json()}));case 2:t=e.sent,n=t.results,u((function(){return Object(i.a)(Object(i.a)({},c),{},{planetsList:n,setGlobalState:u})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(f.Provider,{value:c},t)};function b(){var e=Object(a.useContext)(f).planetsList,t=Object(a.useContext)(f),n=t.filter,l=n.filterByName,c=n.filterByNumericValues,u=t.order;return""!==l&&(e=e.filter((function(e){return e.name.includes(l)}))),c.length>0&&c.forEach((function(t){e=e.filter((function(e){var n=Number(e[t.column]),a=Number(t.value);return function(e,t,n){switch(e){case"menor que":return t>n;case"igual a":return t===n;default:return t<n}}(t.comparison,a,n)}))})),e=function(e,t){return t.length?"name"===e.column&&"ASC"===e.sort?function(e,t){return"name"===e.column&&"ASC"===e.sort&&t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),t}(e,t):"name"===e.column&&"DESC"===e.sort?function(e,t){return"name"===e.column&&"DESC"===e.sort&&t.sort((function(e,t){return e.name>t.name?-1:e.name<t.name?1:0})),t}(e,t):"ASC"===e.sort?t.sort((function(t,n){return t[e.column]-n[e.column]})):"DESC"===e.sort?t.sort((function(t,n){return n[e.column]-t[e.column]})):void 0:[]}(u,e),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Planets"),r.a.createElement("th",null,"Rotation Period"),r.a.createElement("th",null,"Orbital Period"),r.a.createElement("th",null,"Diameter"),r.a.createElement("th",null,"Climate"),r.a.createElement("th",null,"Gravity"),r.a.createElement("th",null,"Terrain"),r.a.createElement("th",null,"Surface Water"),r.a.createElement("th",null,"Population"),r.a.createElement("th",null,"Films"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Edited"),r.a.createElement("th",null,"URL")),e.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{"data-testid":"planet-name"},e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films.map((function(t){return r.a.createElement("p",{key:e.name},t)}))),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))})))}var h=function(){var e=Object(a.useContext)(f),t=e.setGlobalState,n=e.filter,l=Object(a.useContext)(f);return r.a.createElement("input",{type:"text",onChange:function(e){t(Object(i.a)(Object(i.a)({},l),{},{filter:Object(i.a)(Object(i.a)({},n),{},{filterByName:e.target.value})}))},"data-testid":"name-filter"})},C=n(9);function v(){var e=Object(a.useContext)(f),t=Object(a.useContext)(f),n=t.setGlobalState,l=t.filter,c=l.filterByNumericValues,u={column:"name",sort:"ASC"},o={population:"population",orbital_period:"orbital_period",diameter:"diameter",rotation_period:"rotation_period",surface_water:"surface_water"};l.filterByNumericValues.forEach((function(e){return delete o[e.column]}));var m=Object.keys(o),s={column:m[0],comparison:"maior que",value:null};return r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{name:"column-select",id:"column-selector","data-testid":"column-filter",onChange:function(e){s.column=e.target.value}},m.map((function(e,t){return r.a.createElement("option",{key:"Column".concat(t)},e)}))),r.a.createElement("select",{name:"comparison",id:"comparison","data-testid":"comparison-filter",onChange:function(e){s.comparison=e.target.value}},["maior que","igual a","menor que"].map((function(e,t){return r.a.createElement("option",{key:"comparison".concat(t)},e)}))),r.a.createElement("input",{type:"number",name:"valueFilter",id:"valueFilter","data-testid":"value-filter",onChange:function(e){s.value=e.target.value}}),r.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:function(){n(Object(i.a)(Object(i.a)({},e),{},{filter:Object(i.a)(Object(i.a)({},l),{},{filterByNumericValues:[].concat(Object(C.a)(l.filterByNumericValues),[s])})}))}},"Filtrar"),c.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{key:"Specs".concat(a)},t.column),r.a.createElement("p",null,t.comparison),r.a.createElement("p",null,t.value),r.a.createElement("div",{"data-testid":"filter"},r.a.createElement("button",{onClick:function(){return function(t){var a=e.filter.filterByNumericValues;a.splice(t,1),n(Object(i.a)({filter:{filterByNumericValues:a}},e))}(a)},type:"button"},"X")))})),r.a.createElement("select",{name:"columnSort",id:"columnSort","data-testid":"column-sort",onChange:function(e){u.column=e.target.value}},m.splice(0,0,"name")&&m.map((function(e,t){return r.a.createElement("option",{key:t},e)}))),r.a.createElement("label",{htmlFor:"asc"},"ASC",r.a.createElement("input",{type:"radio",name:"ac/dc",id:"asc","data-testid":"column-sort-input-asc",onClick:function(){u.sort="ASC"}})),r.a.createElement("label",{htmlFor:"desc"},"DESC",r.a.createElement("input",{type:"radio",name:"ac/dc",id:"desc","data-testid":"column-sort-input-desc",onClick:function(){u.sort="DESC"}})),r.a.createElement("button",{type:"button","data-testid":"column-sort-button",onClick:function(){return n(Object(i.a)(Object(i.a)({},e),{},{order:Object(i.a)({},u)}))}},"Ordenar"))}var y=function(){return r.a.createElement(E,null,r.a.createElement(h,null),r.a.createElement(v,null),r.a.createElement(b,null))};c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.b7610626.chunk.js.map